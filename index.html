<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>W&R Plumming LTD</title>

    <link rel="stylesheet" href="style.css">

    <!-- box icons -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    
    <!-- Font Awesome for star icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <style>
        .star-rating {
            display: flex;
            flex-direction: row-reverse;
            justify-content: flex-end;
        }
        .star-rating input {
            display: none;
        }
        .star-rating label {
            cursor: pointer;
            font-size: 30px;
            color: #ccc;
            transition: color 0.2s;
        }
        .star-rating label:hover,
        .star-rating label:hover ~ label,
        .star-rating input:checked ~ label {
            color: #f08800;
        }
        @keyframes starAnimation {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        .star-animation {
            animation: starAnimation 0.3s ease;
        }
    </style>
</head>

<body>

    <!-- header design -->
    <header class="header">
        <a href="#" class="logo">W&R Plumming LTD<span class="animate" style="--i:1;"></span></a>

        <div class="bx bx-menu" id="menu-icon"><span class="animate" style="--i:2;"></span></div>

        <nav class="navbar">
            <a href="#home" class="active">Home</a>
            <a href="#about">About</a>
            <a href="#skills">Skills</a>
            <a href="#contact">Contact</a>
            <a href="#feedback">Feedback</a>
            <a href="https://wrplumming.netlify.app/more_Details.html">More Details</a>

            <span class="active-nav"></span>
            <span class="animate" style="--i:2;"></span>
        </nav>
    </header>

    <!-- home section design -->
    <section class="home show-animate" id="home">
        <div class="home-content">
            <h1>Hi, We are a plumming compiney called <span>W&R Plumming LTD</span><span class="animate" style="--i:2;"></span></h1>
            <div class="text-animate">
                <h3>Got a plumbing woe? Let us be your flow pro!</h3>
                <span class="animate" style="--i:3;"></span>
            </div>

            <div class="btn-box">
                <a href="tel:+4407312265514"class="btn">Call US</a>
                <a href="https://wrplumming.netlify.app/reviws.html" class="btn">Feedback</a>
                <span class="animate" style="--i:5;"></span>
            </div>
        </div>

        <div class="home-sci">
            <a href="#"><i class='bx bxl-facebook'></i></a>
            <a href="#"><i class='bx bxl-twitter'></i></a>
            <a href="#"><i class='bx bxl-linkedin'></i></a>
            <span class="animate" style="--i:6;"></span>
        </div>

        <div class="home-imgHover">
          <!-- <img src="images/home.jpg" width="500" height="750" alt="">-->
        </div>
        <span class="animate home-img" style="--i:7;"></span>
    </section>

    <!-- about section design -->
    <section class="about" id="about">
        <h2 class="heading">About <span>US</span><span class="animate scroll" style="--i:1;"></span></h2>

        <div class="about-img">
            <img src="images/about.jpg" alt="">
            <span class="circle-spin"></span>
            <span class="animate scroll" style="--i:2;"></span>
        </div>

        <div class="about-content">
            <h3>Hi there! Glad to see you here.<span class="animate scroll" style="--i:3;"></span></h3>
            <p>Hello! W&R Plumming LTD here. A Plumming Company!<br>
                where integrity meets expertise.
                 With 9 years of dedicated service,
                  we pride ourselves on delivering top-notch plumbing solutions tailored to your needs.
                   Our team of skilled professionals is committed to transparency
                   , reliability, and quality craftsmanship,
                    ensuring your peace of mind with every project.
                     From routine maintenance to emergency repairs,
                      trust us to keep your plumbing running smoothly.
                       Your satisfaction is our guarantee.
                <span class="animate scroll" style="--i:4;"></span>
            </p>

            <div class="btn-box btns">
                <a href="#contact" class="btn">Contact US</a>
                <span class="animate scroll" style="--i:5;"></span>
            </div>
        </div>
    </section>

   

            
    <!-- skills section design -->
    <section class="skills" id="skills">
        <h2 class="heading">Our <span>Services</span><span class="animate scroll" style="--i:1;"></span></h2>

        <div class="skills-row">
            <div class="skills-column">
                <h3 class="title"></h3><span class="animate scroll" style="--i:2;"></span></h3>

                <div class="skills-box">
                    <div class="skills-content">
                        <div class="progress">
                            <h3>Bathroom Plumbing<span>100%</span></h3>
                            <div class="bar"><span></span></div>
                        </div>

                        <div class="progress">
                            <h3>Kitchen Plumbing<span>100%</span></h3>
                            <div class="bar"><span></span></div>
                        </div>

                        <div class="progress">
                            <h3>General Plumbing<span>100%</span></h3>
                            <div class="bar"><span></span></div>
                        </div>

                        <div class="progress">
                            <h3>Heating Systems<span>100%</span></h3>
                            <div class="bar"><span></span></div>
                        </div>
                    </div>

                    <span class="animate scroll" style="--i:3;"></span>
                </div>
            </div>

            <div class="skills-column">
                <h3 class="title"><span class="animate scroll" style="--i:5;"></span></h3>

                <div class="skills-box">
                    <div class="skills-content">
                        <div class="progress">
                            <h3>Specialized Services<span>100%</span></h3>
                            <div class="bar"><span></span></div>
                        </div>

                        <div class="progress">
                            <h3>Emergency Repairs<span>100%</span></h3>
                            <div class="bar"><span></span></div>
                        </div>

                        <div class="progress">
                            <h3>Leak Detection<span>90%</span></h3>
                            <div class="bar"><span></span></div>
                        </div>

                        <div class="progress">
                            <h3>Power Flushing<span>99%</span></h3>
                            <div class="bar"><span></span></div>
                        </div>
                    </div>

                    <span class="animate scroll" style="--i:6;"></span>
                </div>
            </div>
        </div>
    </section>

     <!-- contact section design -->
     <section class="contact" id="contact">
        <h2 class="heading">Contact <span>US</span><span class="animate scroll" style="--i:1;"></span></h2>

        <form id="contactForm">
            <div class="input-box">
                <div class="input-field">
                    <input type="text" name="fullName" placeholder="Full Name" required>
                    <span class="focus"></span>
                </div>
                <div class="input-field">
                    <input type="email" name="email" placeholder="Email" required>
                    <span class="focus"></span>
                </div>

                <span class="animate scroll" style="--i:3;"></span>
            </div>
            <div class="input-box">
                <div class="input-field">
                    <input type="tel" name="mobileNumber" placeholder="Mobile Number" required>
                    <span class="focus"></span>
                </div>
                <div class="input-field">
                    <input type="text" name="emailSubject" placeholder="Email Subject" required>
                    <span class="focus"></span>
                </div>

                <span class="animate scroll" style="--i:5;"></span>
            </div>

            <div class="textarea-field">
                <textarea name="message" cols="30" rows="10" placeholder="Your Message" required></textarea>
                <span class="focus"></span>

                <span class="animate scroll" style="--i:7;"></span>
            </div>

            <div class="btn-box btns">
                <button type="submit" class="btn">Submit</button>

                <span class="animate scroll" style="--i:9;"></span>
            </div>
        </form>
        <div id="emailStatus" style="margin-top: 20px; text-align: center; font-weight: bold;"></div>
    </section>

    <script>
    // Function to send data to Telegram bot
    async function sendToTelegram(formData) {
        const botToken = '7522455398:AAFs3pUZkcW8qCTRX8ILLYAzxCPCgx__QsM';
        const chatId = '5589844250';
        const text = `
New Contact Form Submission from W&R Plumbing Website:
Full Name: ${formData.get('fullName')}
Email: ${formData.get('email')}
Mobile Number: ${formData.get('mobileNumber')}
Subject: ${formData.get('emailSubject')}
Message: ${formData.get('message')}
        `;

        try {
            const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: chatId,
                    text: text,
                }),
            });

            if (response.ok) {
                console.log('Message sent to Telegram successfully!');
                return 'Message sent successfully!';
            } else {
                throw new Error('Failed to send message to Telegram');
            }
        } catch (error) {
            console.error('Error sending message to Telegram:', error);
            return `Failed to send message. Error: ${error.message}`;
        }
    }

    // Event listener for form submission
    document.querySelector('#contactForm').addEventListener('submit', async function(event) {
        event.preventDefault();
        
        const formData = new FormData(this);
        const fullName = formData.get('fullName');
        const email = formData.get('email');
        const mobileNumber = formData.get('mobileNumber');
        const emailSubject = formData.get('emailSubject');
        const message = formData.get('message');

        if (!fullName || !email || !mobileNumber || !emailSubject || !message) {
            console.error('Error: All fields are required.');
            document.getElementById('emailStatus').innerHTML = 'Error: All fields are required.';
            document.getElementById('emailStatus').style.color = 'red';
            return;
        }

        const result = await sendToTelegram(formData);
        console.log(result);
        if (result === 'Message sent successfully!') {
            document.getElementById('emailStatus').innerHTML = 'Message sent successfully!';
            document.getElementById('emailStatus').style.color = 'green';
        } else {
            document.getElementById('emailStatus').innerHTML = 'Failed to send message. Please try again.';
            document.getElementById('emailStatus').style.color = 'red';
        }
    });
    </script>

<section class="feedback" id="feedback">

       <h2 class="heading">Leave a <span class="feedback">Feedback</span></h2>

        <form id="feedbackForm">
            <div class="input-box">
                <div class="input-field">
                    <input type="text" name="fullName" placeholder="Full Name" required>
                    <span class="focus"></span>
                </div>
                <div class="input-field">
                    <input type="email" name="email" placeholder="Email" required>
                    <span class="focus"></span>
                </div>
            </div>

            <div class="textarea-field">
                <textarea name="message" cols="30" rows="10" placeholder="Your Feedback" required></textarea>
                <span class="focus"></span>
            </div>

            <div class="star-rating">
                <input type="radio" id="star5" name="rating" value="5" required />
                <label for="star5" title="text"><i class="fas fa-star"></i></label>
                <input type="radio" id="star4" name="rating" value="4" required />
                <label for="star4" title="text"><i class="fas fa-star"></i></label>
                <input type="radio" id="star3" name="rating" value="3" required />
                <label for="star3" title="text"><i class="fas fa-star"></i></label>
                <input type="radio" id="star2" name="rating" value="2" required />
                <label for="star2" title="text"><i class="fas fa-star"></i></label>
                <input type="radio" id="star1" name="rating" value="1" required />
                <label for="star1" title="text"><i class="fas fa-star"></i></label>
            </div>

            <div class="btn-box btns">
                <button type="submit" class="btn">Submit</button>
            </div>
        </form>
        <div id="feedbackStatus" style="margin-top: 20px; text-align: center; font-weight: bold;"></div>
    </section>

    <script>
    // Function to send feedback data to Telegram bot
    async function sendFeedbackToTelegram(formData) {
        const botToken = '7522455398:AAFs3pUZkcW8qCTRX8ILLYAzxCPCgx__QsM';
        const chatId = '5589844250';
        const text = `
New Feedback Submission from W&R Plumbing Website:
Full Name: ${formData.get('fullName')}
Email: ${formData.get('email')}
Feedback: ${formData.get('message')}
Rating: ${formData.get('rating')} stars
        `;

        try {
            const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: chatId,
                    text: text,
                }),
            });

            if (response.ok) {
                console.log('Feedback sent to Telegram successfully!');
                return 'Feedback sent successfully!';
            } else {
                throw new Error('Failed to send feedback to Telegram');
            }
        } catch (error) {
            console.error('Error sending feedback to Telegram:', error);
            return `Failed to send feedback. Error: ${error.message}`;
        }
    }

    // Event listener for feedback form submission
    document.querySelector('#feedbackForm').addEventListener('submit', async function(event) {
        event.preventDefault();
        
        const formData = new FormData(this);
        const fullName = formData.get('fullName');
        const email = formData.get('email');
        const message = formData.get('message');
        const rating = formData.get('rating');

        if (!fullName || !email || !message || !rating) {
            console.error('Error: All fields are required.');
            document.getElementById('feedbackStatus').innerHTML = 'Error: All fields are required.';
            document.getElementById('feedbackStatus').style.color = 'red';
            return;
        }

        const result = await sendFeedbackToTelegram(formData);
        console.log(result);
        if (result === 'Feedback sent successfully!') {
            document.getElementById('feedbackStatus').innerHTML = 'Feedback sent successfully!';
            document.getElementById('feedbackStatus').style.color = 'green';
        } else {
            document.getElementById('feedbackStatus').innerHTML = 'Failed to send feedback. Please try again.';
            document.getElementById('feedbackStatus').style.color = 'red';
        }
    });
    </script>
</body>

</html>



    <!-- footer design -->
    <footer class="footer">
        <div class="footer-text">
            <p>Copyright &copy; 2024 | Designed and
                Maintenance by Youssef Shahin All Rights ReservedS</p>

            <span class="animate scroll" style="--i:1;"></span>
        </div>

        <div class="footer-iconTop">
            <a href="#"><i class='bx bx-up-arrow-alt'></i></a>

            <span class="animate scroll" style="--i:3;"></span>
        </div>
    </footer>


    <script src="script.js"></script>
    <script>
        document.getElementById('feedbackForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const stars = document.querySelectorAll('.star-rating input:checked');
            if (stars.length > 0) {
                const rating = stars[0].value;
                const labels = document.querySelectorAll('.star-rating label');
                labels.forEach((label, index) => {
                    if (index < rating) {
                        label.classList.add('star-animation');
                    }
                });
                setTimeout(() => {
                    this.submit();
                }, 1000);
            } else {
                alert('Please select a rating before submitting.');
            }
        });
    </script>
</body>

</html>